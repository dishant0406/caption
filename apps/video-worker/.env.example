# Node Environment
NODE_ENV=development

# Redis Configuration
REDIS_URL=redis://localhost:6379

# Azure Blob Storage
AZURE_STORAGE_CONNECTION_STRING=your-azure-storage-connection-string
AZURE_STORAGE_CONTAINER_NAME=caption-videos

# ===========================================
# Transcription Provider Configuration
# ===========================================
# Supported providers: azure-openai, fal-whisper
# - azure-openai: Uses Azure OpenAI Whisper model (segment-level timestamps)
# - fal-whisper: Uses Fal.ai Whisper model (word-level timestamps, recommended for word-by-word captions)

# Provider for segment-level transcription (sentence captions)
TRANSCRIPTION_PROVIDER=azure-openai

# Provider for word-level transcription (word-by-word captions)
# Fal.ai Whisper provides more accurate word-level timestamps
WORD_TRANSCRIPTION_PROVIDER=fal-whisper

# ===========================================
# Azure OpenAI Whisper Configuration
# ===========================================
# Used when TRANSCRIPTION_PROVIDER=azure-openai
# Get these from your Azure OpenAI resource in Azure Portal
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_API_KEY=your-azure-openai-api-key
AZURE_OPENAI_WHISPER_DEPLOYMENT=whisper
AZURE_OPENAI_API_VERSION=2024-02-01

# ===========================================
# Fal.ai Whisper Configuration
# ===========================================
# Used when WORD_TRANSCRIPTION_PROVIDER=fal-whisper
# Get your API key from https://fal.ai/dashboard/keys
FAL_KEY=your-fal-api-key
# Poll interval for checking fal.ai transcription status (in milliseconds)
# Default: 3000 (3 seconds)
FAL_POLL_INTERVAL_MS=3000

# ===========================================
# OpenAI Configuration (Fallback/Alternative)
# ===========================================
OPENAI_API_KEY=your-openai-api-key

# ===========================================
# FFmpeg Configuration
# ===========================================
# Optional - uses system PATH if not specified
# FFMPEG_PATH=/usr/local/bin/ffmpeg
# FFPROBE_PATH=/usr/local/bin/ffprobe

# ===========================================
# Worker Configuration
# ===========================================
WORKER_CONCURRENCY=2
MAX_RETRY_ATTEMPTS=3

# Temp Directory for video processing
TEMP_DIR=/tmp/caption-worker

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=info
